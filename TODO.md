# OmniVerse TODO

## バグ修正

- [ ] **Google ログインで白画面**: アカウント追加時に Google ログイン経由で X/Bluesky にログインすると、ログイン成功後に白画面になる

## タイムライン投稿の表示改善

### エンゲージメント表示・操作
- [ ] **リプライ数・ふぁぼ数・RT数の表示**: 各投稿にエンゲージメント数を表示
- [ ] **ふぁぼボタン**: タップでふぁぼ/いいね実行（API 連携）
- [ ] **リツイート/リポストボタン**: タップで RT/リポスト実行（API 連携）

### 投稿詳細・リプライ
- [ ] **投稿タップで詳細表示**: 投稿をタップすると詳細画面に遷移し、リプライ一覧を表示
- [ ] **タイムライン上のアコーディオン展開**: タイムライン上でも投稿を展開してリプライをインライン表示（詳細画面と両方用意）

### メディア・リンク
- [ ] **画像表示**: 投稿に含まれる画像をインライン表示
- [ ] **動画表示**: 投稿に含まれる動画をインライン再生
- [ ] **URL のリンク化**: 投稿本文中の URL をタップ可能なリンクとして表示
- [ ] **テキスト選択・コピー**: 投稿本文を長押しで選択・コピー可能にする

### 投稿元アカウント識別
- [ ] **取得元アカウント表示**: 同じ SNS で複数アカウントがある場合、どのアカウント経由の投稿かわかるようにする（SNS アイコンだけでなくアカウント名も表示）

## UI/UX 改善

### レイアウト
- [ ] **スクロール時ヘッダー非表示**: SliverAppBar 等でスクロールダウン時にヘッダーを隠す
- [ ] **アカウントタブをヘッダーに移動**: アカウント管理をヘッダーのアイコンボタンに移し、フッターのタブバーを廃止
- [ ] **投稿ボタン (FAB)**: 右下にフローティングアクションボタンを配置し、投稿画面へ遷移

### パフォーマンス・アニメーション
- [ ] **アニメーション追加**: 画面遷移、リスト表示、ボタン操作などにアニメーションを追加し、もっさり感を軽減
- [ ] **スムーズなスクロール**: タイムラインのスクロールパフォーマンス最適化

## 基本動作の拡充

- [x] **Pull-to-refresh**: 実装済み（RefreshIndicator）
- [x] **重複排除**: 実装済み（post.id による Map マージ）
- [ ] **無限スクロール**: 下端到達で過去の投稿を追加読み込み（ページネーション/カーソル対応）
- [ ] **エラー状態の表示**: API 失敗時にリトライボタン付きのエラー表示、接続状態の可視化

## 投稿・ソーシャル機能

- [ ] **ブックマーク/保存**: 投稿をアプリ内に保存して後で見返す
- [ ] **シェア**: 投稿を他アプリに共有（OS のシェアシート連携）
- [ ] **引用リツイート/引用リポスト**: 引用付きで RT/リポスト
- [ ] **ユーザープロフィール表示**: ユーザー名タップでプロフィール閲覧
- [ ] **フォロー/アンフォロー**: アプリ内からフォロー操作

## セキュリティ・信頼性

- [ ] **認証情報の安全な保存**: SharedPreferences → `flutter_secure_storage` に移行
- [ ] **トークン自動リフレッシュ UI**: Bluesky の accessJwt 期限切れ時、ユーザーに再ログインを促す通知
- [ ] **生体認証ロック**: アプリ起動時に指紋/顔認証（オプション）
- [ ] **レート制限ハンドリング**: API レート制限到達時の適切な待機と通知

## 見た目・ブランディング

- [ ] **ダークモード/テーマ切替**: ライト・ダーク・システム準拠の3択
- [ ] **フォントサイズ調整**: 設定から文字サイズを変更可能に
- [ ] **スプラッシュスクリーン**: 起動時のブランド表示
- [ ] **アプリアイコン**: OmniVerse 専用アイコンの作成・設定
- [ ] **通知**: 新着投稿やメンションのプッシュ通知
